(this["webpackJsonpreactify-ui"]=this["webpackJsonpreactify-ui"]||[]).push([[0],{42:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"callApi",(function(){return V})),a.d(r,"clearData",(function(){return J})),a.d(r,"updateReducer",(function(){return B})),a.d(r,"loader",(function(){return $}));var n=a(0),o=a.n(n),s=a(19),i=a.n(s),l=a(2),c=a(3),p=a(5),u=a(4),h=a(7),m=a(13),d=a(36),E=a(24),b=a(23),f=(a(61),function(e){return e&&e.trim()}),g=function(){var e=localStorage.getItem("token");return e||(e=sessionStorage.getItem("token")),e},O=function(){localStorage.removeItem("token")},w=[{url:"/",option:"Home"},{url:"/peoples",option:"All Peoples"},{url:"/login",option:"Logout"}],v=function(e){return e?"Unfollow":"Follow"},y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.cName?"d-common-btn "+this.props.cName:"d-common-btn";return this.props.noDClass&&(e=this.props.cName),o.a.createElement("button",{id:this.props.id,className:e,onClick:"submit"===this.props.type?null:this.props.onClick,tabIndex:this.props.tabIndex},this.props.children?this.props.children:this.props.title)}}]),a}(n.Component),j=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={errMsg:"",hasErr:!1},e}return Object(c.a)(a,[{key:"hasRequiredError",value:function(){return this.props.showError&&this.props.required&&!(this.props.value&&("number"===typeof this.props.value||this.props.value.trim()))}},{key:"getClass",value:function(){var e=this.props.cName?"d-common-input "+this.props.cName:"d-common-input";return e=this.hasRequiredError()?e+" d-common-input-error":e,e=this.props.readonly?e+" readonly":e}},{key:"onChange",value:function(e){var t,a,r=!1;switch(this.props.iType){case"email":t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,a="Please enter valid email id",r=!0}t.test(e.target.value)?(this.setState({errMsg:"",hasErr:!1}),this.props.onChange(e)):this.setState({errMsg:a,hasErr:!0}),!r&&e.target.value||this.props.onChange(e)}},{key:"render",value:function(){var e=this;return this.props.value&&this.props.iType&&this.state.hasErr&&function(e,t){var a;switch(e){case"email":a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}return t&&a.test(t)&&t.trim()}(this.props.iType,this.props.value)&&this.setState({errMsg:"",hasErr:!1}),o.a.createElement(o.a.Fragment,null,this.props.label&&!this.props.noLabel&&o.a.createElement(N,{title:this.props.label+(this.props.required?"*":""),cName:"d-common-input-label"}),o.a.createElement("input",{type:this.props.type,id:this.props.id,list:this.props.list,className:this.getClass(),placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.iType?e.onChange(t):e.props.onChange(t)},tabIndex:this.props.tabIndex,onFocus:function(t){return e.props.onFocus?e.props.onFocus(t,!0):null},onBlur:function(t){return e.props.onFocus?e.props.onFocus(t):null},autoFocus:this.props.autoFocus,accept:this.props.accept}),!this.state.hasErr&&this.hasRequiredError()&&!this.props.noLabel&&o.a.createElement(N,{cName:"d-common-label-error",title:this.props.label+" is required"}),this.props.iType&&this.state.hasErr&&this.state.errMsg&&!this.props.noLabel&&o.a.createElement(N,{cName:"d-common-label-error",title:this.state.errMsg}))}}]),a}(n.Component),k=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"hasRequiredError",value:function(){return this.props.showError&&this.props.required&&!(this.props.value&&("number"===typeof this.props.value||this.props.value.trim()))}},{key:"getClass",value:function(){var e=this.props.cName?"d-common-input "+this.props.cName:"d-common-input d-textarea";return e=this.hasRequiredError()?e+" d-common-input-error":e,e=this.props.readonly?e+" readonly":e}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.props.label&&o.a.createElement(N,{title:this.props.label+(this.props.required?"*":""),cName:"d-common-input-label"}),o.a.createElement("textarea",{rows:"5",cols:"300",type:this.props.type,id:this.props.id,className:this.getClass(),placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t)},tabIndex:this.props.tabIndex}),this.hasRequiredError()&&o.a.createElement(N,{cName:"d-common-label-error",title:this.props.label+" is required"}))}}]),a}(n.Component),N=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("label",{className:this.props.cName?"d-common-label "+this.props.cName:"d-common-label",onClick:this.props.onClick?this.props.onClick:null},this.props.children?this.props.children:this.props.title)}}]),a}(n.Component),L=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(m.b,{id:this.props.id,className:this.props.cName,to:this.props.to,target:this.props.target,onClick:this.props.onClick?function(t){return e.props.onClick(t)}:null},this.props.children?this.props.children:this.props.title)}}]),a}(n.Component),C=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("span",{className:this.props.cName?"d-common-span "+this.props.cName:"d-common-span",onClick:this.props.onClick?this.props.onClick:null},this.props.children?this.props.children:this.props.title)}}]),a}(n.Component),S=(n.Component,function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:this.props.id,style:this.props.style,className:this.props.cName,onClick:this.props.onClick?function(t){return e.props.onClick(t)}:null},this.props.children)}}]),a}(n.Component)),R=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("img",{id:this.props.id,className:this.props.cName?"d-common-img "+this.props.cName:"d-common-img",src:this.props.isUrl?this.props.src:"/static/images/"+this.props.src,alt:this.props.alt,height:this.props.height,width:this.props.width,onClick:this.props.onClick?function(t){return e.props.onClick(t)}:null})}}]),a}(n.Component),_=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t={content:{margin:"auto",width:this.props.width,height:this.props.height,borderRadius:"20px",boxShadow:"0 4px 10px 0 rgba(0,0,0,0.2), 0 4px 20px 0 rgba(0,0,0,0.19)"},overlay:{zIndex:99,backgroundColor:"rgba(0, 0, 0, 0.4)"}},a=this.props.isSuccess?"checked.svg":"cancel.svg";return o.a.createElement(d,{isOpen:!0,contentLabel:"D2b Confirmation",style:t,onRequestClose:!this.props.close&&function(){return e.props.closeModal()},ariaHideApp:!1},o.a.createElement(S,{cName:"d-common-modal"},o.a.createElement(S,{cName:"d-common-modal-header"},o.a.createElement(N,{cName:"d-common-modal-title",title:this.props.title}),!this.props.close&&o.a.createElement(S,{onClick:function(){return e.props.closeModal()}},o.a.createElement(b.a,{icon:E.c}))),o.a.createElement(S,{cName:"d-common-modal-content text-center"},!this.props.close&&this.props.title||this.props.isConfirm?o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{src:a,width:"70px",height:"70px"}),o.a.createElement(N,{title:this.props.confirmMsg})):this.props.children),this.props.isConfirm&&o.a.createElement(S,{cName:"footer text-center"},o.a.createElement(y,{onClick:function(){return e.props.closeModal(!0)}},o.a.createElement(b.a,{icon:E.b}),o.a.createElement(C,{title:"Yes"})),o.a.createElement(y,{onClick:function(){return e.props.closeModal()}},o.a.createElement(b.a,{icon:E.a}),o.a.createElement(C,{title:"No"}))),this.props.isDeleteMes&&o.a.createElement(S,{cName:"footer text-center"},o.a.createElement(y,{onClick:function(){return e.props.delData()}},"Ok"),o.a.createElement(y,{onClick:function(){return e.props.closeModal()}},"Cancel")),this.props.isMultipleLogin&&o.a.createElement(S,{cName:"footer text-center"},o.a.createElement(y,{onClick:function(){return e.props.multiplelogin()}},"Ok"))))}}]),a}(n.Component),M=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{cName:"lds-default"},o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null),o.a.createElement(S,null)),o.a.createElement(S,{cName:"d-common-spinner"}))}}]),a}(n.Component),A=function(e){var t=e.columns.map((function(t,a){return o.a.createElement("th",{key:a},e.displayColumns[t])}));return o.a.createElement("thead",{className:"fixedHeader"},t,e.isEdit&&o.a.createElement("th",null,"Edit"),e.isDelete&&o.a.createElement("th",null,"Delete"))},T=function(e){if(0===e.data.length)return o.a.createElement("tbody",{className:"scrollContent"},o.a.createElement("tr",null,o.a.createElement("td",{className:"loading-data",colSpan:e.columns.length+2},e.isLoading?"Loading.....":" No Data Available ")));var t=e.data.map((function(t,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement("tr",{key:a,className:e.rowHightlight?"table-highlight":""},e.columns.map((function(e,a){return o.a.createElement("td",{key:a},o.a.createElement(L,{to:"people/"+t.id},t[e]))})),o.a.createElement("td",null,o.a.createElement(y,{onClick:function(){return e.follow(t)}},v(t.action)))))}));return o.a.createElement("tbody",{className:"scrollContent"},t)},x=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(S,{cName:"d-common-table table-responsive"},o.a.createElement("table",{class:"table"},!this.props.noHeader&&o.a.createElement(A,this.props),o.a.createElement(T,this.props)))}}]),a}(n.Component),P=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{cName:"main-container"},o.a.createElement(S,{cName:"main-content"},this.props.children)))}}]),a}(n.Component),F=a(16),D=a(8),U={LOGIN:"LOGIN",LOGOUT:"LOGOUT",LOADER:"LOADER",CLEAR_DATA:"CLEAR_DATA",UI_REFRESH:"CLEAR_DATA",REGISTER:"REGISTER",FOLLOW_UNFOLLOW:"FOLLOW_UNFOLLOW",TWEETS:"TWEETS",PEOPLES:"PEOPLES"},I={SERVER_URL:"http://localhost:8000/",LOGIN_URL:"auth/login/",REGISTER_URL:"auth/register/",FOLLOW_UNFOLLOW_URL:"twitter/follow_unfollow/",TWEETS_URL:"twitter/tweets/",PEOPLES_URL:"twitter/peoples/"},W=a(17),G=a.n(W),q=a(25),H=function(e,t,a){var r={"Content-Type":"application/json",Authorization:g()?"Token "+g():void 0};return fetch(I.SERVER_URL+e,{method:a,headers:r,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw new Error("Something went wrong")}))},V=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return function(){var r=Object(q.a)(G.a.mark((function r(n){var o,s,i,l;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=!1,i=!0,r.t0=e,r.next=r.t0===U.LOGIN?4:r.t0===U.REGISTER?7:r.t0===U.ALL_PEOPLES?10:r.t0===U.PEOPLE?12:r.t0===U.FOLLOW_UNFOLLOW?14:r.t0===U.TWEETS?16:r.t0===U.PEOPLES?18:20;break;case 4:return o=I.LOGIN_URL,s=!0,r.abrupt("break",22);case 7:return o=I.REGISTER_URL,s=!0,r.abrupt("break",22);case 10:return o=I.ALL_PEOPLES_URL,r.abrupt("break",22);case 12:return o=I.PEOPLE_URL,r.abrupt("break",22);case 14:return o=I.FOLLOW_UNFOLLOW_URL,r.abrupt("break",22);case 16:return o=I.TWEETS_URL,r.abrupt("break",22);case 18:return o=I.PEOPLES_URL,r.abrupt("break",22);case 20:return n({type:U.UI_REFRESH}),r.abrupt("break",22);case 22:return r.prev=22,i&&n({type:U.LOADER,payload:!0}),l=null,r.next=27,H(o,t,a);case 27:l=r.sent,console.log("response",l),403===l.status_code?n({type:U.LOGOUT}):200===l.status_code?(s&&n({type:U.CLEAR_DATA}),n({type:e,payload:l})):n({type:e,payload:l}),i&&n({type:U.LOADER,payload:!1}),r.next=37;break;case 33:r.prev=33,r.t1=r.catch(22),console.log(r.t1),i&&n({type:U.LOADER,payload:!1});case 37:case"end":return r.stop()}}),r,null,[[22,33]])})));return function(e){return r.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(q.a)(G.a.mark((function t(a){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e,t){return function(){var a=Object(q.a)(G.a.mark((function a(r){return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r({type:e,payload:t});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},$=function(e){return function(t){switch(e){case"show":t({type:U.LOADER,payload:!0});break;default:t({type:U.LOADER,payload:!1})}}},z=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",showError:!1,showModal:!1,modalMsg:"",showPass:!1},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.closeModal=function(){e.setState({showModal:!1,modalMsg:"",showError:!1})},e}return Object(c.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({showError:!0}),this.isValid()&&(this.props.callApi(U.LOGIN,{email:this.state.email,password:this.state.password}),this.setState({showError:!1,modalMsg:""}))}},{key:"isValid",value:function(){return f(this.state.email)&&f(this.state.password)}},{key:"componentDidMount",value:function(){this.props.auth&&this.props.auth.token&&this.props.history.push(this.state.roles[this.props.auth.data[0].role])}},{key:"componentWillReceiveProps",value:function(e){var t;this.props.auth!==e.auth&&e.auth&&(e.auth.access_token?(t=e.auth.access_token,O(),localStorage.setItem("token",t),this.props.history.push("/")):e.auth.message&&this.setState({showModal:!0,modalMsg:e.auth.message,isSuccess:!1}))}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{cName:"login"},this.state.showModal&&!this.props.loading&&o.a.createElement(_,{width:"400px",height:"200px",closeModal:this.closeModal,title:this.state.modalMsg,isSuccess:this.state.isSuccess}),o.a.createElement(S,{cName:"login-wrapper"},o.a.createElement(S,{cName:"wrapper-heading d-common-label"},"Login"),o.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},o.a.createElement(S,{cName:"row form-group"},o.a.createElement(j,{iType:"email",label:"Enter Email",id:"email",value:this.state.email,required:!0,onChange:this.onChange,showError:this.state.showError,autoFocus:!0})),o.a.createElement(S,{cName:"row form-group"},o.a.createElement(j,{type:"password",label:"Enter Password",id:"password",value:this.state.password,required:!0,onChange:this.onChange,showError:this.state.showError})),o.a.createElement(S,{cName:"row submit-row"},o.a.createElement(y,{cName:"form-control submit-button-md",title:"Login"})))))}}]),a}(n.Component),X=Object(D.b)((function(e){return{auth:e.store.auth,loading:e.store.loader}}),r)(Object(h.g)(z)),Y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.tweets&&this.props.tweets.map((function(e,t){return o.a.createElement(S,{key:t,cName:"tweets-container"},o.a.createElement(S,{cName:"row"},o.a.createElement(S,{cName:"col-12"},e.tweet)),o.a.createElement(S,{cName:"tweets-details"},"By "+e.full_name+" on "+e.created))})))}}]),a}(n.Component),K=Object(D.b)((function(e){return{}}),r)(Object(h.g)(Y)),Q=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1,modalMsg:"",showPass:!1},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.closeModal=function(){e.setState({showModal:!1,modalMsg:"",showError:!1})},e}return Object(c.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({showError:!0}),this.isValid()&&(this.props.callApi(U.TWEETS,{tweet:this.state.tweet}),this.setState({showError:!1,modalMsg:"",tweet:""}))}},{key:"isValid",value:function(){return f(this.state.tweet)}},{key:"componentDidMount",value:function(){this.props.auth&&this.props.auth.access_token||this.props.history.push("/login"),this.props.callApi(U.TWEETS,void 0,"GET")}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{cName:"home"},this.state.showModal&&!this.props.loading&&o.a.createElement(_,{width:"400px",height:"200px",closeModal:this.closeModal,title:this.state.modalMsg,isSuccess:!this.state.showError}),this.props.auth&&this.props.auth.user&&o.a.createElement(S,{cName:"home-wrapper"},o.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},o.a.createElement(S,{cName:"row form-group"},o.a.createElement(k,{id:"tweet",label:"Tweet",value:this.state.tweet,required:!0,onChange:this.onChange,showError:this.state.showError,placeholder:"What do you want to talk about?"})),o.a.createElement(S,{cName:"row submit-row"},o.a.createElement(y,{cName:"form-control submit-button-md",title:"Post"}))),o.a.createElement(S,{cName:"wrapper-heading d-common-label"},"Latest Feed"),o.a.createElement(K,{tweets:this.props.tweets})))}}]),a}(n.Component),Z=Object(D.b)((function(e){return console.log(e.store),{auth:e.store.auth,tweets:e.store.tweets,loading:e.store.loader}}),r)(Object(h.g)(Q)),ee=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).follow=function(){var t=!e.props.peoples.action;e.props.callApi(U.FOLLOW_UNFOLLOW,{id:e.props.match.params.id,action:t}),e.props.peoples.action=t},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.callApi(U.PEOPLES,{id:this.props.match.params.id})}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{cName:"home"},o.a.createElement(S,{cName:"home-wrapper"},this.props.peoples&&this.props.peoples.full_name&&o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{cName:"wrapper-heading d-common-label"},this.props.peoples.full_name),o.a.createElement(S,{cName:"row"},o.a.createElement(N,null,"Joined on "+this.props.peoples.created),o.a.createElement(y,{onClick:function(){return e.follow()}},v(this.props.peoples.action)))),this.props.peoples&&this.props.peoples.tweets&&o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{cName:"wrapper-heading d-common-label"},"Tweets"),o.a.createElement(K,{tweets:this.props.peoples.tweets}))))}}]),a}(n.Component),te=Object(D.b)((function(e){return console.log(e.store.people,"dfgdf"),{peoples:e.store.peoples,loading:e.store.loader}}),r)(Object(h.g)(ee)),ae=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).follow=function(t){var a=!t.action;e.props.callApi(U.FOLLOW_UNFOLLOW,{id:t.id,action:a}),t.action=a},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.callApi(U.PEOPLES,void 0,"GET")}},{key:"render",value:function(){return console.log(this.props.peoples),o.a.createElement(S,{cName:"home"},o.a.createElement(S,{cName:"home-wrapper"},o.a.createElement(S,{cName:"wrapper-heading d-common-label"},"All Peoples"),o.a.createElement(x,{data:this.props.peoples&&this.props.peoples.length?this.props.peoples:[],columns:["full_name"],displayColumns:{full_name:"Name"},noHeader:!0,follow:this.follow})))}}]),a}(n.Component),re=Object(D.b)((function(e){return{peoples:e.store.peoples,loading:e.store.loader}}),r)(Object(h.g)(ae)),ne=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={first_name:"",last_name:"",email:"",password:"",showError:!1,showModal:!1,modalMsg:"",options:[{option:"Select Role",value:""}],comp_id:"",showPass:!1,roles:{OrgAdmin:"/shop_list",ShopAdmin:"/counter_list",Cashier:"/queue"}},e.onChange=function(t){e.setState(Object(F.a)({},t.target.id,t.target.value))},e.closeModal=function(){e.state.isSuccess&&e.props.history.push("/login"),e.setState({showModal:!1,modalMsg:"",showError:!1,isSuccess:!1})},e}return Object(c.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({showError:!0}),this.isValid()&&(this.props.callApi(U.REGISTER,{username:this.getUsername(),email:this.state.email,password:this.state.password,password2:this.state.password,first_name:this.state.first_name,last_name:this.state.last_name}),this.setState({showError:!1,modalMsg:""}))}},{key:"getUsername",value:function(){if(this.state.email){var e=this.state.email;return e.substring(0,e.indexOf("@"))+Math.random().toString(36).substring(3)}return""}},{key:"isValid",value:function(){return f(this.state.email)&&f(this.state.password)}},{key:"componentDidMount",value:function(){this.props.auth&&this.props.auth.token&&this.props.history.push(this.state.roles[this.props.auth.data[0].role])}},{key:"componentWillReceiveProps",value:function(e){this.props.register!==e.register&&e.register&&(e.register&&"string"===typeof e.register.email?this.setState({showModal:!0,modalMsg:"Registration Success",isSuccess:!0}):e.register&&this.setState({showModal:!0,modalMsg:"User already exists",isSuccess:!1}))}},{key:"render",value:function(){var e=this;return o.a.createElement(S,{cName:"login"},this.state.showModal&&!this.props.loading&&o.a.createElement(_,{width:"400px",height:"200px",closeModal:this.closeModal,title:this.state.modalMsg,isSuccess:this.state.isSuccess}),o.a.createElement(S,{cName:"login-wrapper"},o.a.createElement(S,{cName:"wrapper-heading d-common-label"},"Register"),o.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},o.a.createElement(S,{cName:"row form-group"},o.a.createElement(j,{type:"text",label:"First Name",id:"first_name",value:this.state.first_name,required:!0,onChange:this.onChange,showError:this.state.showError,autoFocus:!0})),o.a.createElement(S,{cName:"row form-group"},o.a.createElement(j,{type:"text",label:"Last Name",id:"last_name",value:this.state.last_name,required:!0,onChange:this.onChange,showError:this.state.showError})),o.a.createElement(S,{cName:"row form-group"},o.a.createElement(j,{iType:"email",label:"Enter Email",id:"email",value:this.state.email,required:!0,onChange:this.onChange,showError:this.state.showError})),o.a.createElement(S,{cName:"row form-group"},o.a.createElement(j,{type:"password",label:"Enter Password",id:"password",value:this.state.password,required:!0,onChange:this.onChange,showError:this.state.showError})),o.a.createElement(S,{cName:"row submit-row"},o.a.createElement(y,{cName:"form-control submit-button-md",title:"Register"})))))}}]),a}(n.Component),oe=Object(D.b)((function(e){return{auth:e.store.auth,register:e.store.register,loading:e.store.loader}}),r)(Object(h.g)(ne)),se=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={menu:[]},e.logout=function(){e.setState({menu:[],active:""}),O(),e.props.updateReducer(U.LOGOUT)},e.onClick=function(t){"/login"===t.target.id?e.logout():e.setState({active:t.target.id})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){g()&&this.props.auth&&this.props.auth.access_token?this.setState({menu:w}):this.props.updateReducer(U.CLEAR_DATA)}},{key:"componentWillReceiveProps",value:function(e){e.auth&&e.auth.access_token?this.setState({menu:w}):this.state.menu.length&&this.setState({menu:[]})}},{key:"render",value:function(){var e=this,t=-1!=window.location.href.indexOf("login");return o.a.createElement(S,{cName:"login-header"},this.props.auth&&this.props.auth.user&&o.a.createElement(S,{cName:"row welcome-msg"},"Welcome ",this.props.auth.user.first_name),o.a.createElement(S,{cName:"row"},o.a.createElement(S,{cName:"links menu-links app-title"},!(this.props.auth&&this.props.auth.access_token)&&(t?o.a.createElement(L,{cName:"active",to:"/register",title:"Register"}):o.a.createElement(L,{cName:"active",to:"/login",title:"Login"})),this.state.menu.map((function(t,a){return o.a.createElement(L,{key:a,cName:e.state.active===t.url?"active":"",id:t.url,to:t.url,title:t.option,onClick:e.onClick})})))))}}]),a}(n.Component),ie=Object(D.b)((function(e){return{auth:e.store.auth}}),r)(Object(h.g)(se)),le=function(){return o.a.createElement(S,{cName:"login-footer"},o.a.createElement(S,{cName:"row app-title"},"JioHaptik Assignment"))},ce=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.updateReducer(U.LOADER,!1)}},{key:"render",value:function(){return o.a.createElement(S,{className:"App"},this.props.showLoader&&o.a.createElement(M,null),o.a.createElement(S,{cName:"d-common-app"},o.a.createElement(ie,null),o.a.createElement(S,{cName:"content"},g()&&this.props.auth&&this.props.auth.access_token?o.a.createElement(h.d,null,o.a.createElement(P,null,o.a.createElement(h.b,{path:"/",exact:!0,component:Z}),o.a.createElement(h.b,{path:"/peoples",component:re}),o.a.createElement(h.b,{path:"/people/:id",component:te}),o.a.createElement(h.a,{from:"*",to:"/"})),o.a.createElement(h.a,{from:"*",to:"/"})):o.a.createElement(h.d,null,o.a.createElement(P,null,o.a.createElement(h.b,{path:"/login",component:X}),o.a.createElement(h.b,{path:"/register",component:oe}),o.a.createElement(h.a,{from:"*",to:"/login"})))),o.a.createElement(le,null)))}}]),a}(n.Component),pe=Object(D.b)((function(e){return{auth:e.store.auth,showLoader:e.store.loader}}),r)(Object(h.g)(ce));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(38),he=a(15),me=a(31),de=a(39),Ee=a.n(de),be=a(40),fe=a.n(be),ge=a(9),Oe={loader:!1,auth:{data:[],message:null,status:null}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.LOADER:return Object(ge.a)(Object(ge.a)({},e),{},{loader:t.payload});case U.LOGIN:return Object(ge.a)(Object(ge.a)({},e),{},{auth:t.payload.data});case U.REGISTER:return Object(ge.a)(Object(ge.a)({},e),{},{register:t.payload});case U.TWEETS:return Object(ge.a)(Object(ge.a)({},e),{},{tweets:t.payload.data});case U.PEOPLES:return Object(ge.a)(Object(ge.a)({},e),{},{peoples:t.payload.data});case U.LOGOUT:return Object(ge.a)(Object(ge.a)({},e),{},{auth:Oe.auth});case U.CLEAR_DATA:return Object(ge.a)(Object(ge.a)({},e),Oe);default:return e}},ve=a(41),ye=Object(he.c)({store:we}),je={key:"root",storage:Ee.a,stateReconciler:fe.a,blacklist:["utilityLayout","serverStatus"]},ke=Object(me.a)(je,ye),Ne=window._REDUX_DEVTOOLS_EXTENSION_COMPOSE_||he.d,Le=Object(he.e)(ke,Ne(Object(he.a)((function(e){return function(e){return function(t){return e(t)}}}),ve.a))),Ce=Object(me.b)(Le),Se=o.a.createElement(m.a,null,o.a.createElement(D.a,{store:Le},o.a.createElement(ue.PersistGate,{persistor:Ce},o.a.createElement(pe,null))));i.a.render(Se,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ee01ec05.chunk.js.map